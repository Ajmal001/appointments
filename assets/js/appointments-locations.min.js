/*!  - v2.4.3-beta.1
 * https://premium.wpmudev.org/project/appointments-plus/
 * Copyright (c) 2019; * Licensed GPLv2+ */
!function(a){function b(){var b=a("#app-locations-add_location"),c=a("#app-locations-new_location"),d=_app_locations_data.model.labels,e=_app_locations_data.model.fields,f="";return c.length&&c.remove(),f+="<h3>"+d.new_location+"</h3>",a.each(e,function(a,b){f+='<label for="app-location-'+a+'">'+b+'&nbsp;<input type="text" id="app-location-'+a+'" /></label>'}),f+='<button class="button button-primary" type="button" id="app-locations-create_location">'+d.add_location+"</button>",f+='<button class="button button-secondary" type="button" id="app-locations-cancel_location">'+d.cancel_editing+"</button>",b.after('<div id="app-locations-new_location">'+f+"</div>"),a("#app-locations-create_location").on("click",function(){var b={},c=a("#app-locations-save_locations"),d=(c.before('<input type="hidden" name="locations[]" id="app-locations-added_location" value="" />'),a("#app-locations-added_location"));a.each(e,function(c,d){b[c]=a("#app-location-"+c).val()}),d.val(JSON.stringify(b)),c.trigger("click")}),a("#app-locations-cancel_location").on("click",function(){return a("#app-locations-new_location").remove(),!1}),!1}function c(){var b=a(this),c=a("#app-locations-add_location"),d=a("#app-locations-new_location"),e=b.parents("li").find("input:hidden"),f=e.val()?JSON.parse(e.val()):{},g=_app_locations_data.model.labels,h=_app_locations_data.model.fields,i="";return d.length&&d.remove(),i+="<h3>"+g.edit_location+"</h3>",a.each(h,function(a,b){i+='<label for="app-location-'+a+'">'+b+'&nbsp;<input type="text" id="app-location-'+a+'" value="'+f[a]+'" /></label>'}),i+='<button class="button button-primary" type="button" id="app-locations-create_location">'+g.save_location+"</button>",i+='<button class="button button-secondary" type="button" id="app-locations-cancel_location">'+g.cancel_editing+"</button>",c.after('<div id="app-locations-new_location">'+i+"</div>"),a("#app-locations-create_location").on("click",function(){var b=f,c=a("#app-locations-save_locations");a.each(h,function(c,d){b[c]=a("#app-location-"+c).val()}),e.val(JSON.stringify(b)),c.trigger("click")}),a("#app-locations-cancel_location").on("click",function(){return a("#app-locations-new_location").remove(),!1}),!1}function d(){var b=a(this),c=b.parents("li");return c.remove(),!1}function e(b,c,d){d=d.length?d:a("body");var e=d.find('[name="location"]'),f=e.length?e.val():"";return c.location=f,!1}a(function(){return"undefined"!=typeof _app_locations_data&&(a("#app-locations-add_location").on("click",b),a("#app-locations-list .app-locations-delete").on("click",d),a("#app-locations-list .app-locations-edit").on("click",c),void a(document).on("app-appointment-inline_edit-save_data",e))})}(jQuery);