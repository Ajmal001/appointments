/*!  - v2.4.3-beta.1
 * https://premium.wpmudev.org/project/appointments-plus/
 * Copyright (c) 2019; * Licensed GPLv2+ */
Appointments=window.Appointments||{},function(a,b,c){"use strict";function d(a){return c(".app-my-appointments-cancel").change(function(a){var d=c(a.target),e=this.cancelAppointment;d.is(":checked")&&swal({title:b.aysCancel,text:"",type:"warning",showCancelButton:!0,cancelButtonText:b.no,confirmButtonText:b.yes,closeOnConfirm:!0},function(a){a?e(d.data("app-id")):d.attr("checked",!1)})}.bind(this)),this}d.prototype.cancelAppointment=function(a){var d={action:"cancel_user_app",app_id:a,cancel_nonce:b.nonce};c.post(b.ajaxurl,d,function(d){var e=c("input#cancel-"+a);return"undefined"==typeof d.success?(e.attr("disabled",!0),void swal(b.connectionError,"","error")):void(d.success?(swal(b.cancelled,"","success"),e.closest("tr").css("opacity","0.3"),e.attr("disabled",!0)):swal(d.data))},"json")},a.myAppointments=function(a){return new d(a)},c("body").on("click",".appointments-paid-button",function(){var a=c(this).data("appointment");if(!(a&&a.ID&&a.price&&a.service_name))return!1;var b={price:a.price,app_id:a.ID,service_name:a.service_name};c(".appointments-paypal").find(".app_amount").val(b.price),c(".appointments-paypal").find(".app_custom").val(b.app_id);var d=c(".appointments-paypal").find(".app_submit_btn").val();if(d){var e=d.replace("PRICE",b.price).replace("SERVICE",b.service_name);c(".appointments-paypal").find(".app_submit_btn").val(e);var f=c(".appointments-paypal").find(".app_item_name").val(),g=f.replace("SERVICE",b.service_name);c(".appointments-paypal").find(".app_item_name").val(g),c(".appointments-paypal .app_submit_btn").focus()}c(".appointments-paypal").find("form").submit()})}(Appointments,appMyAppointmentsStrings,jQuery);